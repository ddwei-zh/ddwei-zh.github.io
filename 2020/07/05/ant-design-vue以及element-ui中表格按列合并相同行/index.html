<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
        <title>ant-design-vue以及element-ui中表格按列合并相同行 | Mint Forge</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel='shortcut icon' href="/favicon.ico">
    
<link rel="stylesheet" href="/css/index.css">

    
<link rel="stylesheet" href="/css/plugins/highlight/dark.css">

    
<link rel="stylesheet" href="/css/plugins/iconfont/iconfont.css">

<meta name="generator" content="Hexo 4.2.1"></head>
<body>
    <div class="navbar-container">
    <div class="navbar">
        <ul>
            <li><a href="/">MINT FORGE</a></li>
            <li><a href="/">首页</a></li>
            <li><a href='/categories'>CATEGORIES</a></li>
            <li><a href="/tags">TAGS</a></li>
            <li><a href="/about">ABOUT</a></li>
        </ul>
    </div>
</div>
    <div class="all-container">
        <div class="article-container">
    <h2 class="title">ant-design-vue以及element-ui中表格按列合并相同行</h2>
    <span class="info">2020年7月5日</span>
    
    
        <div class="toc">
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#使用ant-design-vue和element-ui中的表格合同列的相同行的方法"><span class="toc-number">1.</span> <span class="toc-text">使用ant-design-vue和element-ui中的表格合同列的相同行的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ant-design-vue"><span class="toc-number">1.1.</span> <span class="toc-text">ant-design-vue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#element-ui"><span class="toc-number">1.2.</span> <span class="toc-text">element-ui</span></a></li></ol></li></ol>
        </div>
    

    <div class="content"><h1 id="使用ant-design-vue和element-ui中的表格合同列的相同行的方法"><a href="#使用ant-design-vue和element-ui中的表格合同列的相同行的方法" class="headerlink" title="使用ant-design-vue和element-ui中的表格合同列的相同行的方法"></a>使用ant-design-vue和element-ui中的表格合同列的相同行的方法</h1><h2 id="ant-design-vue"><a href="#ant-design-vue" class="headerlink" title="ant-design-vue"></a>ant-design-vue</h2><ul>
<li><code>设置表格列属性的自定义属性</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">customRender: (value, row, index) &#x3D;&gt; &#123;</span><br><span class="line">                const obj &#x3D; &#123;</span><br><span class="line">                  children: value,</span><br><span class="line">                  attrs: &#123;&#125;</span><br><span class="line">                &#125;;</span><br><span class="line">                obj.attrs.rowSpan &#x3D; this.myArray[index];</span><br><span class="line">                return obj;</span><br><span class="line">              &#125;</span><br></pre></td></tr></table></figure></li>
<li><code>定义合并单元格方法</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">func(data) &#123;</span><br><span class="line">     &#x2F;&#x2F;保存上一个name</span><br><span class="line">     var x &#x3D; &quot;&quot;;</span><br><span class="line">     &#x2F;&#x2F;相同name出现的次数</span><br><span class="line">     var count &#x3D; 0;</span><br><span class="line">     &#x2F;&#x2F;该name第一次出现的位置</span><br><span class="line">     var startindex &#x3D; 0;</span><br><span class="line"></span><br><span class="line">     for (var i &#x3D; 0; i &lt; data.length; i++) &#123;</span><br><span class="line">       &#x2F;&#x2F;根据学校id进行合并</span><br><span class="line">       var val &#x3D; data[i].schoolId;</span><br><span class="line">       if (i &#x3D;&#x3D; 0) &#123;</span><br><span class="line">         x &#x3D; val;</span><br><span class="line">         count &#x3D; 1;</span><br><span class="line">         this.myArray[0] &#x3D; 1; &#x2F;&#x2F; []</span><br><span class="line">       &#125; else &#123;</span><br><span class="line">         if (val &#x3D;&#x3D; x) &#123;</span><br><span class="line">           count++;</span><br><span class="line">           this.myArray[startindex] &#x3D; count;</span><br><span class="line">           this.myArray[i] &#x3D; 0;</span><br><span class="line">         &#125; else &#123;</span><br><span class="line">           count &#x3D; 1;</span><br><span class="line">           x &#x3D; val;</span><br><span class="line">           startindex &#x3D; i;</span><br><span class="line">           this.myArray[i] &#x3D; 1;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></li>
<li><code>调用合并单元格的方法</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.myArray &#x3D; new Array(this.tableData.length);</span><br><span class="line">this.func(this.tableData);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<hr>
<h2 id="element-ui"><a href="#element-ui" class="headerlink" title="element-ui"></a><code>element-ui</code></h2><ul>
<li><code>el-table设置属性</code> span-method=”objectSpanMethod</li>
<li><code>合并行方法</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function objectSpanMethod (&#123; row, column, rowIndex, columnIndex &#125;) &#123;</span><br><span class="line">    if (columnIndex &#x3D;&#x3D;&#x3D; 0) &#123;</span><br><span class="line">      &#x2F;&#x2F; 第一列相同学校的单元格合并</span><br><span class="line">      const _row &#x3D; this.spanArr[0][rowIndex]</span><br><span class="line">      return &#123;</span><br><span class="line">        rowspan: _row,</span><br><span class="line">        colspan: 1</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
<li><code>计算合并的行数</code><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">rowspan (idx, prop) &#123;</span><br><span class="line">       this.spanArr[idx] = [] // []</span><br><span class="line">       this.position = 0  // 0</span><br><span class="line">       &lt;!-- 要合并的表格数据 --&gt;</span><br><span class="line">       this.tableData.forEach((item, index) =&gt; &#123;</span><br><span class="line">         <span class="keyword">if</span> (index === 0) &#123;</span><br><span class="line">           this.spanArr[idx].push(1)</span><br><span class="line">           this.position = 0</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="keyword">if</span> (</span><br><span class="line">             this.tableData[index][<span class="string">'listenSchoolId'</span>] ===</span><br><span class="line">             this.tableData[index - 1][<span class="string">'listenSchoolId'</span>]</span><br><span class="line">           ) &#123;</span><br><span class="line">             this.spanArr[idx][this.position] += 1 // 有相同项</span><br><span class="line">             this.spanArr[idx].push(0) // 名称相同后往数组里面加一项0</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             this.spanArr[idx].push(1) // 同列的前后两行单元格不相同</span><br><span class="line">             this.position = index</span><br><span class="line">           &#125;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</div>
    <hr>
    <div class="tags"></div>
</div>
<div class="paging">
    
        <a id="prev" href="/">回到首页</a>
    
    
    
        <a id="next" href="/2020/07/05/%E6%9C%AC%E5%9C%B0%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E7%9C%8Bvue%E5%BA%94%E7%94%A8%E5%9C%A8%E7%BA%BF%E4%B8%8A%E7%9A%84%E6%95%88%E6%9E%9C/">NEXT_PAGE</a>
    
</div>
<div class="footer">
    <p><a href="/about/">Please Contact the Author before Reproduce.</a></p>
</div>

<script src="/js/highlight.pack.js"></script>

</script>
<script>
	hljs.initHighlightingOnLoad();
</script>

<script src="/js/iconfont.js"></script>

<style>
    .icon {
      width: 1rem;
      height: 1rem;
      vertical-align: -0.15em;
      fill: currentColor;
      overflow: hidden;
    }
</style>
    
    </div>
    <div class='rights'>
	<p>©<span id='years'></span> Mint Forge. All Rights Reserved.</p>
</div>
<script type="text/javascript">
	var today = new Date()
	var years = today.getFullYear()
	document.getElementById('years').innerHTML=years
</script>
    
<script src="/js/iconfont.js"></script>

<style>
    .icon {
      width: 1rem;
      height: 1rem;
      vertical-align: -0.15em;
      fill: currentColor;
      overflow: hidden;
    }
</style>
    
</body>
</html>